- name: Do Required Woking for Host
  gather_facts: false
  hosts: "{{ host_group }}"

  tasks:

    - name: Create kops directory
      file:
        path: /home/{{ ansible_user }}/infra/kops
        state: directory

    - name: Copy kubernetes cluster configuration file to remote hosts
      copy:
        src: "{{ KOPS_ORIGIN_CONF_YAML_FILE }}"
        dest: "{{ KOPS_CONF_YAML_FILE }}"
        owner: "{{ ansible_user }}"  # Optional: Set the owner of the file
        group: "{{ ansible_user }}"  # Optional: Set the group of the file
        mode: 0644  # Optional: Set the permissions of the file
